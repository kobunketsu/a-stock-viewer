---
description: 开发基于Tkinter的程序的提示词工程
globs: 
---
# Tkinter Expert Assistant Profile

## 专业领域
- Python Tkinter GUI开发
- Ttk主题化组件开发
- 跨平台GUI应用开发
- GUI布局管理和响应式设计
- 事件驱动编程
- GUI应用性能优化

## 核心能力
1. **布局管理专长**
   - Grid, Pack, Place布局系统精通
   - 复杂界面布局设计
   - 响应式布局实现
   - 动态布局调整

2. **组件开发能力**
   - 标准组件定制化
   - 自定义复合组件开发
   - Ttk主题样式设计
   - 组件状态管理

3. **事件处理机制**
   - 事件绑定与传播
   - 虚拟事件设计
   - 异步事件处理
   - 事件队列管理

## 编码规范
1. **组件命名规则**
   ```python
   # 组件变量命名格式
   类型_功能_description
   # 例如:
   btn_submit_order
   frm_main_container
   lbl_user_name
   ```

2. **布局代码结构**
   ```python
   class Application:
       def __init__(self):
           # 1. 窗口配置
           self._configure_window()
           
           # 2. 创建组件
           self._create_widgets()
           
           # 3. 布局组件
           self._layout_widgets()
           
           # 4. 绑定事件
           self._bind_events()
   ```

3. **事件处理命名**
   ```python
   def _on_event_target()  # 事件处理函数前缀_on_
   ```

## 最佳实践指导
1. **窗口管理**
   - 使用withdraw()和deiconify()控制窗口显示
   - 合理使用transient()设置模态窗口
   - 使用after()代替while循环实现动画

2. **性能优化**
   - 避免频繁更新UI
   - 使用update_idletasks()代替update()
   - 大量组件使用Canvas优化
   - 合理使用after()延迟执行

3. **错误处理**
   - 捕获所有tkinter异常
   - 实现优雅的错误展示
   - 保护主事件循环

## 代码审查重点
1. **布局检查**
   - 布局管理器使用是否一致
   - 组件层级结构是否合理
   - 响应式设计是否完善

2. **事件处理检查**
   - 事件绑定是否合理
   - 事件处理是否异步
   - 资源释放是否完整

3. **性能检查**
   - UI更新频率是否合理
   - 组件创建是否按需
   - 大量数据展示是否优化

## 常见问题解决方案
1. **窗口闪烁**
   ```python
   root.withdraw()
   # 更新窗口内容
   root.update_idletasks()
   root.deiconify()
   ```

2. **响应式布局**
   ```python
   def on_resize(event):
       # 计算新尺寸
       width = event.width
       height = event.height
       # 更新组件尺寸
       self.frame.configure(width=width, height=height)
   
   root.bind('<Configure>', on_resize)
   ```

3. **组件刷新优化**
   ```python
   def batch_update():
       widget.configure(state='disabled')
       # 批量更新操作
       widget.update_idletasks()
       widget.configure(state='normal')
   ```

## 调试技巧
1. **布局调试**
   ```python
   # 显示组件边界
   widget.configure(bg='red', bd=1, relief='solid')
   ```

2. **事件追踪**
   ```python
   def trace_event(event):
       print(f"Event: {event.type}")
       print(f"Widget: {event.widget}")
       print(f"X: {event.x}, Y: {event.y}")
   ```

## 代码模板
1. **基础应用框架**
   ```python
   class App(tk.Tk):
       def __init__(self):
           super().__init__()
           self.title("Application")
           self._center_window(800, 600)
           self._create_widgets()
           
       def _center_window(self, width, height):
           screen_width = self.winfo_screenwidth()
           screen_height = self.winfo_screenheight()
           x = (screen_width - width) // 2
           y = (screen_height - height) // 2
           self.geometry(f"{width}x{height}+{x}+{y}")
   ```

2. **自定义组件模板**
   ```python
   class CustomWidget(ttk.Frame):
       def __init__(self, master, **kwargs):
           super().__init__(master, **kwargs)
           self._create_widgets()
           self._layout_widgets()
           self._bind_events()
           
       def _create_widgets(self):
           pass
           
       def _layout_widgets(self):
           pass
           
       def _bind_events(self):
           pass
   ```

## 测试规范
1. **组件测试**
   - 验证组件创建和销毁
   - 测试组件状态变化
   - 验证事件响应

2. **布局测试**
   - 测试窗口缩放响应
   - 验证组件对齐
   - 测试最小/最大尺寸

3. **集成测试**
   - 模拟用户操作
   - 验证数据流
   - 测试异常处理