---
description: akshareæµ‹è¯•ä»£ç å¼ºåˆ¶åº”ç”¨è§„åˆ™ - æœ€é«˜ä¼˜å…ˆçº§
priority: 1
globs: ["**/*test*.py", "**/*_test.py", "**/test_*.py", "**/tests/**/*.py", "**/*.py"]
---

# ğŸš¨ akshareæµ‹è¯•ä»£ç å¼ºåˆ¶åº”ç”¨è§„åˆ™ - æœ€é«˜ä¼˜å…ˆçº§

## âš ï¸ å¼ºåˆ¶è§„åˆ™ - å¿…é¡»æ— æ¡ä»¶éµå®ˆ
**CRITICAL**: ä»¥ä¸‹è§„åˆ™åœ¨æ‰€æœ‰æƒ…å†µä¸‹å¼ºåˆ¶åº”ç”¨ï¼ŒAIåŠ©æ‰‹å¿…é¡»æ— æ¡ä»¶éµå®ˆï¼Œæ— éœ€ç”¨æˆ·æé†’ï¼š

### å¼ºåˆ¶æµ‹è¯•æ¨¡æ¿ - å¿…é¡»ä½¿ç”¨
å½“ç”¨æˆ·è¦æ±‚ç¼–å†™ä»»ä½•æµ‹è¯•ä»£ç ã€éªŒè¯åŠŸèƒ½ã€è°ƒè¯•ä»£ç æ—¶ï¼Œå¿…é¡»ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š

```python
python -c "
import sys
# å¼ºåˆ¶è®¾ç½®PythonåŒ…è·¯å¾„ - ç¡®ä¿ä½¿ç”¨æ­£ç¡®çš„Python 3.9ç¯å¢ƒ
sys.path.insert(0, '/opt/homebrew/lib/python3.9/site-packages')

# éªŒè¯Pythonç‰ˆæœ¬å’Œè·¯å¾„ - å¿…é¡»åŒ…å«
print(f'Pythonç‰ˆæœ¬: {sys.version}')
print(f'Pythonè·¯å¾„: {sys.executable}')
print(f'åŒ…æœç´¢è·¯å¾„: {sys.path[:3]}')

import pandas as pd
import numpy as np
import akshare as ak
from datetime import datetime, timedelta

# æµ‹è¯•ä»£ç å†…å®¹
print('æµ‹è¯•å¼€å§‹...')
try:
    # å…·ä½“æµ‹è¯•é€»è¾‘
    pass
except Exception as e:
    print(f'é”™è¯¯: {e}')
    import traceback
    traceback.print_exc()
"
```

### å¼ºåˆ¶åº”ç”¨æ¡ä»¶ - æ— æ¡ä»¶è§¦å‘
- âœ… ç”¨æˆ·è¦æ±‚ç¼–å†™æµ‹è¯•ä»£ç 
- âœ… ç”¨æˆ·è¦æ±‚éªŒè¯åŠŸèƒ½
- âœ… ç”¨æˆ·è¦æ±‚è°ƒè¯•ä»£ç 
- âœ… ç”¨æˆ·è¦æ±‚è¿è¡ŒPythonä»£ç 
- âœ… ç”¨æˆ·è¦æ±‚æµ‹è¯•akshareåŠŸèƒ½
- âœ… ç”¨æˆ·è¦æ±‚æµ‹è¯•è‚¡ç¥¨åˆ†æ
- âœ… ç”¨æˆ·è¦æ±‚æµ‹è¯•æŠ€æœ¯æŒ‡æ ‡
- âœ… ç”¨æˆ·è¦æ±‚éªŒè¯æ•°æ®æ¥å£
- âœ… ä»»ä½•æ¶‰åŠpandasã€numpyã€akshareçš„åœºæ™¯
- âœ… ä»»ä½•æµ‹è¯•ç›¸å…³çš„è¯·æ±‚

### å¼ºåˆ¶ç»„ä»¶ - å¿…é¡»åŒ…å«
1. **Pythonç‰ˆæœ¬éªŒè¯**: å¿…é¡»æ˜¾ç¤ºPythonç‰ˆæœ¬å’Œè·¯å¾„ä¿¡æ¯
2. **è·¯å¾„è®¾ç½®**: `sys.path.insert(0, '/opt/homebrew/lib/python3.9/site-packages')`
3. **ç¯å¢ƒéªŒè¯**: æ‰“å°Pythonç‰ˆæœ¬ã€æ‰§è¡Œè·¯å¾„ã€åŒ…æœç´¢è·¯å¾„
4. **åŸºç¡€åº“å¯¼å…¥**: pandas, numpy, akshare, datetime
5. **é”™è¯¯å¤„ç†**: å®Œæ•´çš„try-exceptå’Œtraceback
6. **è°ƒè¯•ä¿¡æ¯**: è¯¦ç»†çš„printè¾“å‡º

### è¿ååæœ
- å¦‚æœAIåŠ©æ‰‹å¿˜è®°åº”ç”¨æ­¤è§„åˆ™ï¼Œç”¨æˆ·æœ‰æƒè¦æ±‚é‡æ–°æ‰§è¡Œ
- æ­¤è§„åˆ™ä¼˜å…ˆçº§æœ€é«˜ï¼Œè¦†ç›–æ‰€æœ‰å…¶ä»–è§„åˆ™
- ä»»ä½•æµ‹è¯•ä»£ç éƒ½å¿…é¡»ä½¿ç”¨æ­¤æ¨¡æ¿

## ç¤ºä¾‹ç”¨æ³•

### æ­£ç¡®ç¤ºä¾‹
```python
python -c "
import sys
sys.path.insert(0, '/opt/homebrew/lib/python3.9/site-packages')

import pandas as pd
import numpy as np
import akshare as ak
from datetime import datetime, timedelta

print('æµ‹è¯•å¼€å§‹...')
try:
    # è·å–è‚¡ç¥¨æ•°æ®
    data = ak.stock_zh_a_spot_em()
    print(f'è·å–åˆ°{len(data)}æ¡è‚¡ç¥¨æ•°æ®')
except Exception as e:
    print(f'é”™è¯¯: {e}')
    import traceback
    traceback.print_exc()
"
```

### é”™è¯¯ç¤ºä¾‹ - ç¦æ­¢
```python
# é”™è¯¯ï¼šç¼ºå°‘è·¯å¾„è®¾ç½®å’Œé”™è¯¯å¤„ç†
import akshare as ak
data = ak.stock_zh_a_spot_em()
```

## è§„åˆ™æ‰§è¡Œæ£€æŸ¥æ¸…å•
- [ ] æ˜¯å¦ä½¿ç”¨äº†python -cå‘½ä»¤ï¼Ÿ
- [ ] æ˜¯å¦åŒ…å«äº†sys.path.insertï¼Ÿ
- [ ] æ˜¯å¦å¯¼å…¥äº†pandas, numpy, akshare, datetimeï¼Ÿ
- [ ] æ˜¯å¦åŒ…å«äº†try-excepté”™è¯¯å¤„ç†ï¼Ÿ
- [ ] æ˜¯å¦åŒ…å«äº†tracebackè¾“å‡ºï¼Ÿ
- [ ] æ˜¯å¦åŒ…å«äº†printè°ƒè¯•ä¿¡æ¯ï¼Ÿ

## é‡è¦æé†’
**AIåŠ©æ‰‹å¿…é¡»è®°ä½**ï¼š
- æ­¤è§„åˆ™ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¿…é¡»æ— æ¡ä»¶éµå®ˆ
- ä»»ä½•æµ‹è¯•ç›¸å…³è¯·æ±‚éƒ½å¿…é¡»ä½¿ç”¨æ­¤æ¨¡æ¿
- ä¸å…è®¸ä»»ä½•ä¾‹å¤–æƒ…å†µ
- å¦‚æœå¿˜è®°åº”ç”¨ï¼Œç”¨æˆ·æœ‰æƒè¦æ±‚é‡æ–°æ‰§è¡Œ